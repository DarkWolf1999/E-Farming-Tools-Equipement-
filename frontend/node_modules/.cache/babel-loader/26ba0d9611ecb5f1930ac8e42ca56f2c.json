{"ast":null,"code":"var _jsxFileName = \"D:\\\\E-Farming\\\\frontend\\\\frontend\\\\src\\\\components\\\\pages\\\\EditProfile\\\\EditProfile.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { useState, useEffect, useContext } from 'react'; // Removed unused Component import\n\nimport './EditProfile.css';\nimport { Link, useHistory } from 'react-router-dom';\nimport NavBar1 from './../NavBar/Navabar1/NavBar1';\nimport UserContext from './../../Session/Session';\nimport { url } from './../../URL/url';\n\nconst EditProfile = () => {\n  // define the state\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [mobileNo, setPhone] = useState('');\n  const [password, setPassword] = useState('');\n  const [address, setAddress] = useState('');\n  const [pincode, setPincode] = useState('');\n  const [city, setCity] = useState(''); // Corrected setcity to setCity\n\n  const [security, setSecurity] = useState('');\n  const history = useHistory();\n  const {\n    value\n  } = useContext(UserContext); // Removed unused setValue\n\n  useEffect(() => {\n    setFirstName(value.data.firstName);\n    setLastName(value.data.lastName);\n    setEmail(value.data.email);\n    setPhone(value.data.mobileNo);\n    setPassword(value.data.password);\n    setAddress(value.data.address);\n    setPincode(value.data.pincode);\n    setCity(value.data.city); // Corrected setcity to setCity\n\n    setSecurity(value.data.security);\n  }, [value]); // Added dependencies\n\n  const editProfile = () => {\n    if (firstName.length === 0 || lastName.length === 0 || mobileNo.length === 0 || email.length === 0 || password.length === 0 || address.length === 0 || pincode.length === 0 || city.length === 0 || security.length === 0) {\n      alert('Please fill in all fields');\n    } else {\n      const data = new FormData();\n      data.append('firstName', firstName);\n      data.append('lastName', lastName);\n      data.append('mobileNo', mobileNo);\n      data.append('email', email);\n      data.append('password', password);\n      data.append('address', address);\n      data.append('pincode', pincode);\n      data.append('city', city);\n      data.append('security', security);\n      axios.put(url + '/editprofile', data).then(response => {\n        const result = response.data;\n\n        if (result.status === 'success') {\n          alert('Data Added Successfully');\n          history.push('/signin');\n        } else {\n          alert('Error While Adding Data');\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavBar1, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-colo2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, \"Edit Profile\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, \"First Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      setFirstName(event.target.value);\n    },\n    placeholder: \"Enter your first name\",\n    className: \"form-control input-maargin\",\n    type: \"text\",\n    value: firstName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: editProfile,\n    className: \"btn btn-success input-maargin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, \"Update\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"nav-link\",\n    to: \"/signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, \"Already have an account?\"))))));\n};\n\nexport default EditProfile;","map":{"version":3,"sources":["D:/E-Farming/frontend/frontend/src/components/pages/EditProfile/EditProfile.js"],"names":["React","axios","useState","useEffect","useContext","Link","useHistory","NavBar1","UserContext","url","EditProfile","firstName","setFirstName","lastName","setLastName","email","setEmail","mobileNo","setPhone","password","setPassword","address","setAddress","pincode","setPincode","city","setCity","security","setSecurity","history","value","data","editProfile","length","alert","FormData","append","put","then","response","result","status","push","event","target"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { useState, useEffect, useContext } from 'react'; // Removed unused Component import\r\nimport './EditProfile.css';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport NavBar1 from './../NavBar/Navabar1/NavBar1';\r\nimport UserContext from './../../Session/Session';\r\nimport { url } from './../../URL/url';\r\n\r\nconst EditProfile = () => {\r\n  // define the state\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [mobileNo, setPhone] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [address, setAddress] = useState('');\r\n  const [pincode, setPincode] = useState('');\r\n  const [city, setCity] = useState(''); // Corrected setcity to setCity\r\n  const [security, setSecurity] = useState('');\r\n  const history = useHistory();\r\n  const { value } = useContext(UserContext); // Removed unused setValue\r\n\r\n  useEffect(() => {\r\n    setFirstName(value.data.firstName);\r\n    setLastName(value.data.lastName);\r\n    setEmail(value.data.email);\r\n    setPhone(value.data.mobileNo);\r\n    setPassword(value.data.password);\r\n    setAddress(value.data.address);\r\n    setPincode(value.data.pincode);\r\n    setCity(value.data.city); // Corrected setcity to setCity\r\n    setSecurity(value.data.security);\r\n  }, [value]); // Added dependencies\r\n\r\n  const editProfile = () => {\r\n    if (\r\n      firstName.length === 0 ||\r\n      lastName.length === 0 ||\r\n      mobileNo.length === 0 ||\r\n      email.length === 0 ||\r\n      password.length === 0 ||\r\n      address.length === 0 ||\r\n      pincode.length === 0 ||\r\n      city.length === 0 ||\r\n      security.length === 0\r\n    ) {\r\n      alert('Please fill in all fields');\r\n    } else {\r\n      const data = new FormData();\r\n      data.append('firstName', firstName);\r\n      data.append('lastName', lastName);\r\n      data.append('mobileNo', mobileNo);\r\n      data.append('email', email);\r\n      data.append('password', password);\r\n      data.append('address', address);\r\n      data.append('pincode', pincode);\r\n      data.append('city', city);\r\n      data.append('security', security);\r\n\r\n      axios.put(url + '/editprofile', data).then((response) => {\r\n        const result = response.data;\r\n        if (result.status === 'success') {\r\n          alert('Data Added Successfully');\r\n          history.push('/signin');\r\n        } else {\r\n          alert('Error While Adding Data');\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavBar1 />\r\n      <div className=\"bg-colo2\">\r\n        <div>\r\n          <h1>Edit Profile</h1>\r\n          <div>\r\n            <div className=\"col-md-3 \">\r\n              <label>First Name</label>\r\n              <input\r\n                onChange={(event) => {\r\n                  setFirstName(event.target.value);\r\n                }}\r\n                placeholder=\"Enter your first name\"\r\n                className=\"form-control input-maargin\"\r\n                type=\"text\"\r\n                value={firstName}\r\n              />\r\n            </div>\r\n            {/* Remaining input fields */}\r\n            <div className=\"col-md-3 \">\r\n              <button onClick={editProfile} className=\"btn btn-success input-maargin\">\r\n                Update\r\n              </button>\r\n              <Link className=\"nav-link\" to=\"/signin\">\r\n                Already have an account?\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditProfile;\r\n"]},"metadata":{},"sourceType":"module"}