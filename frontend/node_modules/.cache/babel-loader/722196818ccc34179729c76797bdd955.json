{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\E-Farming\\\\frontend\\\\frontend\\\\src\\\\components\\\\pages\\\\SignIn\\\\SignIn.js\";\nimport './SignIn.css';\nimport axios from 'axios';\nimport React, { useContext, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport UserContext from '../../Session/Session'; // Removed unused imports: import Navbar from './../NavBar/Navbar'; import GetUsers from './../AdminHome/GetUsers';\n\nimport { url } from './../../URL/url';\n\nconst SignIn = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const {\n    setValue\n  } = useContext(UserContext); // Removed unused 'value' destructured from context\n\n  const history = useHistory();\n\n  const signinUser = () => {\n    if (!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)) {\n      alert(\"Enter valid email pattern like 'abc@gmail.com'\");\n      return;\n    }\n\n    if (email.length === 0) {\n      alert('please enter email');\n    } else if (password.length === 0) {\n      alert('please enter password');\n    } else {\n      const data = new FormData();\n      data.append('email', email);\n      data.append('password', password);\n      axios.post(url + '/login', data).then(response => {\n        const result = response.data;\n\n        if (result.status === 'success') {\n          setValue(result);\n          alert('Login Successful');\n\n          if (result.data.role === 'admin') {\n            history.push('/AdminHome');\n          } else {\n            history.push('/CustHome');\n          }\n        } else {\n          alert('Login Failed, Email or password incorrect');\n        }\n      }).catch(error => {\n        console.error('Error during login:', error);\n        alert('Login Failed, Please try again.');\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"loginform\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    id: \"headerTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter your email\",\n    onChange: event => setEmail(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Enter your password\",\n    onChange: event => setPassword(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"button\",\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: signinUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(Link, {\n    className: \"row\",\n    to: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Don't have an account\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"row\",\n    to: \"/ChangePassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"Forgot password?\")));\n};\n\nexport default SignIn;","map":{"version":3,"sources":["C:/Users/HP/Desktop/E-Farming/frontend/frontend/src/components/pages/SignIn/SignIn.js"],"names":["axios","React","useContext","useState","Link","useHistory","UserContext","url","SignIn","email","setEmail","password","setPassword","setValue","history","signinUser","test","alert","length","data","FormData","append","post","then","response","result","status","role","push","catch","error","console","event","target","value"],"mappings":"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","sourcesContent":["import './SignIn.css';\r\nimport axios from 'axios';\r\nimport React, { useContext, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport UserContext from '../../Session/Session';\r\n// Removed unused imports: import Navbar from './../NavBar/Navbar'; import GetUsers from './../AdminHome/GetUsers';\r\nimport { url } from './../../URL/url';\r\n\r\nconst SignIn = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const { setValue } = useContext(UserContext); // Removed unused 'value' destructured from context\r\n  const history = useHistory();\r\n\r\n  const signinUser = () => {\r\n    if (!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)) {\r\n      alert(\"Enter valid email pattern like 'abc@gmail.com'\");\r\n      return;\r\n    }\r\n    if (email.length === 0) {\r\n      alert('please enter email');\r\n    } else if (password.length === 0) {\r\n      alert('please enter password');\r\n    } else {\r\n      const data = new FormData();\r\n      data.append('email', email);\r\n      data.append('password', password);\r\n\r\n      axios.post(url + '/login', data)\r\n        .then((response) => {\r\n          const result = response.data;\r\n          if (result.status === 'success') {\r\n            setValue(result);\r\n            alert('Login Successful');\r\n            if (result.data.role === 'admin') {\r\n              history.push('/AdminHome');\r\n            } else {\r\n              history.push('/CustHome');\r\n            }\r\n          } else {\r\n            alert('Login Failed, Email or password incorrect');\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error during login:', error);\r\n          alert('Login Failed, Please try again.');\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div id=\"loginform\">\r\n      <h2 id=\"headerTitle\">Login</h2>\r\n      <div>\r\n        <div className=\"row\">\r\n          <label>Email</label>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Enter your email\"\r\n            onChange={(event) => setEmail(event.target.value)}\r\n          />\r\n        </div>\r\n        <div className=\"row\">\r\n          <label>Password</label>\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Enter your password\"\r\n            onChange={(event) => setPassword(event.target.value)}\r\n          />\r\n        </div>\r\n        <div id=\"button\" className=\"row\">\r\n          <button onClick={signinUser}>Login</button>\r\n        </div>\r\n        <Link className=\"row\" to=\"/signup\">Don't have an account</Link>\r\n        <Link className=\"row\" to=\"/ChangePassword\">Forgot password?</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n"]},"metadata":{},"sourceType":"module"}