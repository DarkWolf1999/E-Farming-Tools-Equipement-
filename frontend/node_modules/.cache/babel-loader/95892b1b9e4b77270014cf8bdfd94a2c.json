{"ast":null,"code":"var _jsxFileName = \"D:\\\\E-Farming\\\\frontend\\\\frontend\\\\src\\\\components\\\\pages\\\\SellEquip\\\\SellEquip.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport NavBar1 from '../NavBar/Navabar1/NavBar1';\nimport UserContext from '../../Session/Session';\nimport { url } from '../../URL/url';\n\nconst Sellequip = () => {\n  const {\n    value\n  } = useContext(UserContext);\n  const [companyId, setCompanyId] = useState('');\n  const [userId, setUserId] = useState('');\n  const [modelId, setModelId] = useState('');\n  const [price, setPrice] = useState('');\n  const [date, setDate] = useState('');\n  const [city, setCity] = useState('');\n  const [companies, setCompanies] = useState([]);\n  const [models, setModels] = useState([]);\n  useEffect(() => {\n    loadCompanies();\n  }, []);\n\n  const loadCompanies = async () => {\n    const result = await axios.get(url + '/getcompanies');\n    setCompanies(result.data.data);\n    setUserId(value.data.userId);\n  };\n\n  const loadModels = async e => {\n    const cid = e.target.value;\n    setCompanyId(cid);\n    const result = await axios.get(url + '/getmodels');\n    setModels(result.data.data);\n  };\n\n  const history = useHistory();\n\n  const sellEquip = () => {\n    if (price.length === 0 || date.length === 0 || city.length === 0) {\n      alert('Please fill in all required fields');\n    } else {\n      const data = new FormData();\n      data.append('companyId', companyId);\n      data.append('userId', userId);\n      data.append('modelId', modelId);\n      data.append('price', price);\n      data.append('date', date);\n      data.append('city', city);\n      axios.post(url + '/postar', data).then(response => {\n        const result = response.data;\n\n        if (result.status === 'success') {\n          alert('Equipment added successfully');\n          history.push('/CustHome');\n        } else {\n          alert('Error: ' + result.message);\n        }\n      }).catch(error => {\n        console.error('Error submitting form:', error);\n        alert('Error: Failed to submit data. Please try again.');\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavBar1, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-colo3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \"Sell Equipment Page\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, \"Select Companies\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: loadModels,\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, companies.map((company, index) => /*#__PURE__*/React.createElement(\"option\", {\n    key: index,\n    value: company.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, company.name)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, \"Select Models\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: event => {\n      setModelId(event.target.value);\n    },\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, models.map((model, index) => /*#__PURE__*/React.createElement(\"option\", {\n    key: index,\n    value: model.modelId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, model.modelname)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      setPrice(event.target.value);\n    },\n    placeholder: \"Enter Price\",\n    className: \"form-control input-maargin\",\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, \"City\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      setCity(event.target.value);\n    },\n    placeholder: \"Enter City\",\n    className: \"form-control input-maargin\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      setDate(event.target.value);\n    },\n    className: \"form-control input-maargin\",\n    type: \"Date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: sellEquip,\n    className: \"btn btn-success input-maargin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, \"Submit Equipment\")))));\n};\n\nexport default Sellequip;","map":{"version":3,"sources":["D:/E-Farming/frontend/frontend/src/components/pages/SellEquip/SellEquip.js"],"names":["React","useState","useEffect","useContext","useHistory","axios","NavBar1","UserContext","url","Sellequip","value","companyId","setCompanyId","userId","setUserId","modelId","setModelId","price","setPrice","date","setDate","city","setCity","companies","setCompanies","models","setModels","loadCompanies","result","get","data","loadModels","e","cid","target","history","sellEquip","length","alert","FormData","append","post","then","response","status","push","message","catch","error","console","map","company","index","id","name","event","model","modelname"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport NavBar1 from '../NavBar/Navabar1/NavBar1';\r\nimport UserContext from '../../Session/Session';\r\nimport { url } from '../../URL/url';\r\n\r\nconst Sellequip = () => {\r\n  const { value } = useContext(UserContext);\r\n  const [companyId, setCompanyId] = useState('');\r\n  const [userId, setUserId] = useState('');\r\n  const [modelId, setModelId] = useState('');\r\n  const [price, setPrice] = useState('');\r\n  const [date, setDate] = useState('');\r\n  const [city, setCity] = useState('');\r\n  const [companies, setCompanies] = useState([]);\r\n  const [models, setModels] = useState([]);\r\n\r\n  useEffect(() => {\r\n    loadCompanies();\r\n  }, []);\r\n\r\n  const loadCompanies = async () => {\r\n    const result = await axios.get(url + '/getcompanies');\r\n    setCompanies(result.data.data);\r\n    setUserId(value.data.userId);\r\n  };\r\n\r\n  const loadModels = async (e) => {\r\n    const cid = e.target.value;\r\n    setCompanyId(cid);\r\n    const result = await axios.get(url + '/getmodels');\r\n    setModels(result.data.data);\r\n  };\r\n\r\n  const history = useHistory();\r\n\r\n  const sellEquip = () => {\r\n    if (\r\n      price.length === 0 ||\r\n      date.length === 0 ||\r\n      city.length === 0\r\n    ) {\r\n      alert('Please fill in all required fields');\r\n    } else {\r\n      const data = new FormData();\r\n      data.append('companyId', companyId);\r\n      data.append('userId', userId);\r\n      data.append('modelId', modelId);\r\n      data.append('price', price);\r\n      data.append('date', date);\r\n      data.append('city', city);\r\n\r\n      axios\r\n        .post(url + '/postar', data)\r\n        .then((response) => {\r\n          const result = response.data;\r\n          if (result.status === 'success') {\r\n            alert('Equipment added successfully');\r\n            history.push('/CustHome');\r\n          } else {\r\n            alert('Error: ' + result.message);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error submitting form:', error);\r\n          alert('Error: Failed to submit data. Please try again.');\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavBar1 />\r\n      <div className=\"bg-colo3\">\r\n        <h1>Sell Equipment Page</h1>\r\n        <div>\r\n          <div className=\"col-md-3\">\r\n            <label>Select Companies</label>\r\n            <select onChange={loadModels} className=\"form-control\">\r\n              {companies.map((company, index) => (\r\n                <option key={index} value={company.id}>\r\n                  {company.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"col-md-3\">\r\n            <label>Select Models</label>\r\n            <select\r\n              onChange={(event) => {\r\n                setModelId(event.target.value);\r\n              }}\r\n              className=\"form-control\"\r\n            >\r\n              {models.map((model, index) => (\r\n                <option key={index} value={model.modelId}>\r\n                  {model.modelname}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"col-md-3\">\r\n            <label>Price</label>\r\n            <input\r\n              onChange={(event) => {\r\n                setPrice(event.target.value);\r\n              }}\r\n              placeholder=\"Enter Price\"\r\n              className=\"form-control input-maargin\"\r\n              type=\"number\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-3\">\r\n            <label>City</label>\r\n            <input\r\n              onChange={(event) => {\r\n                setCity(event.target.value);\r\n              }}\r\n              placeholder=\"Enter City\"\r\n              className=\"form-control input-maargin\"\r\n              type=\"text\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-3\">\r\n            <label>Date</label>\r\n            <input\r\n              onChange={(event) => {\r\n                setDate(event.target.value);\r\n              }}\r\n              className=\"form-control input-maargin\"\r\n              type=\"Date\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-3\">\r\n            <button onClick={sellEquip} className=\"btn btn-success input-maargin\">\r\n              Submit Equipment\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Sellequip;\r\n"]},"metadata":{},"sourceType":"module"}