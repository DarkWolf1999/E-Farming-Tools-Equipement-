{"ast":null,"code":"var _jsxFileName = \"D:\\\\E-Farming\\\\frontend\\\\frontend\\\\src\\\\components\\\\pages\\\\SellEquip\\\\SellEquip.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport NavBar1 from './../NavBar/Navabar1/NavBar1';\nimport UserContext from './../../Session/Session';\nimport { url } from './../../URL/url';\n\nconst Sellequip = () => {\n  const {\n    value,\n    setValue\n  } = useContext(UserContext);\n  const [companyId, setCompanyId] = useState('');\n  const [userId, setUserId] = useState('');\n  const [modelId, setModelId] = useState('');\n  const [fuelType, setFuelType] = useState('');\n  const [kmDriven, setKmDriven] = useState('');\n  const [price, setPrice] = useState('');\n  const [color, setColor] = useState('');\n  const [date, setDate] = useState('');\n  const [city, setCity] = useState('');\n  const [equipImage, setEquipImage] = useState('');\n  const [companies, setCompanies] = useState([]);\n  const [models, setModels] = useState([]);\n  const history = useHistory();\n  useEffect(() => {\n    loadCompanies();\n  }, []);\n\n  const loadCompanies = async () => {\n    const result = await axios.get(url + '/getcompanies');\n    setCompanies(result.data.data);\n    setUserId(value.data.userId);\n    console.log(result.data.userId);\n  };\n\n  const loadModels = async e => {\n    const cid = e.target.value;\n    setCompanyId(cid);\n    const result = await axios.get(url + '/getmodels');\n    setModels(result.data.data);\n    console.log(result.data);\n  };\n\n  const sellequip = () => {\n    if (fuelType.length === 0) {\n      alert('Enter Fuel Type');\n    } else if (kmDriven.length === 0) {\n      alert('Enter Kms driven ');\n    } else if (price.length === 0) {\n      alert('Enter Price');\n    } else if (color.length === 0) {\n      alert('Enter equip Color');\n    } else if (date.length === 0) {\n      alert('Enter Date');\n    } else if (city.length === 0) {\n      alert('Enter city');\n    } else if (equipImage.length === 0) {\n      alert('Enter state');\n    } else {\n      const data = new FormData();\n      data.append('companyId', companyId);\n      data.append('userId', userId);\n      data.append('modelId', modelId);\n      data.append('fuelType', fuelType);\n      data.append('price', price);\n      data.append('color', color);\n      data.append('date', date);\n      data.append('city', city);\n      data.append('kmDriven', kmDriven);\n      data.append('equipImage', equipImage);\n      console.log(value.data);\n      axios.post(url + '/postcar', data).then(response => {\n        const result = response.data;\n\n        if (result.status === 'success') {\n          alert('equip Added Sucesssfully');\n          history.push('/CustHome');\n        } else {\n          alert('Error While Adding Data');\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavBar1, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \" bg-colo3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, \"Sellequip Page\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, \"Select Companies\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: loadModels,\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, companies.map((company, index) => /*#__PURE__*/React.createElement(\"option\", {\n    key: index,\n    value: company.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, company.name)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, \"Select Models\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: event => {\n      setModelId(event.target.value);\n    },\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, models.map((model, index) => /*#__PURE__*/React.createElement(\"option\", {\n    key: index,\n    value: model.modelId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, model.modelname)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      setPrice(event.target.value);\n    },\n    placeholder: \"Enter Price\",\n    className: \"form-control input-maargin\",\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, \"Color\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      setColor(event.target.value);\n    },\n    placeholder: \"enter vehicle color\",\n    className: \"form-control input-maargin\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, \"City\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      setCity(event.target.value);\n    },\n    placeholder: \"Enter City\",\n    className: \"form-control input-maargin\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      setDate(event.target.value);\n    },\n    className: \"form-control input-maargin\",\n    type: \"Date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: sellequip,\n    className: \"btn btn-success input-maargin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }, \"Submit equip\")))));\n};\n\nexport default Sellequip;","map":{"version":3,"sources":["D:/E-Farming/frontend/frontend/src/components/pages/SellEquip/SellEquip.js"],"names":["React","useState","useEffect","useContext","Link","useHistory","axios","NavBar1","UserContext","url","Sellequip","value","setValue","companyId","setCompanyId","userId","setUserId","modelId","setModelId","fuelType","setFuelType","kmDriven","setKmDriven","price","setPrice","color","setColor","date","setDate","city","setCity","equipImage","setEquipImage","companies","setCompanies","models","setModels","history","loadCompanies","result","get","data","console","log","loadModels","e","cid","target","sellequip","length","alert","FormData","append","post","then","response","status","push","map","company","index","id","name","event","model","modelname"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport NavBar1 from './../NavBar/Navabar1/NavBar1';\r\nimport UserContext from './../../Session/Session';\r\nimport { url } from './../../URL/url';\r\n\r\nconst Sellequip = () => {\r\n  const { value, setValue } = useContext(UserContext);\r\n  const [companyId, setCompanyId] = useState('');\r\n  const [userId, setUserId] = useState('');\r\n  const [modelId, setModelId] = useState('');\r\n  const [fuelType, setFuelType] = useState('');\r\n  const [kmDriven, setKmDriven] = useState('');\r\n  const [price, setPrice] = useState('');\r\n  const [color, setColor] = useState('');\r\n  const [date, setDate] = useState('');\r\n  const [city, setCity] = useState('');\r\n  const [equipImage, setEquipImage] = useState('');\r\n  const [companies, setCompanies] = useState([]);\r\n  const [models, setModels] = useState([]);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    loadCompanies();\r\n  }, []);\r\n\r\n  const loadCompanies = async () => {\r\n    const result = await axios.get(url + '/getcompanies');\r\n    setCompanies(result.data.data);\r\n    setUserId(value.data.userId);\r\n    console.log(result.data.userId);\r\n  };\r\n\r\n  const loadModels = async (e) => {\r\n    const cid = e.target.value;\r\n    setCompanyId(cid);\r\n    const result = await axios.get(url + '/getmodels');\r\n    setModels(result.data.data);\r\n    console.log(result.data);\r\n  };\r\n\r\n  const sellequip = () => {\r\n    if (fuelType.length === 0) {\r\n      alert('Enter Fuel Type');\r\n    } else if (kmDriven.length === 0) {\r\n      alert('Enter Kms driven ');\r\n    } else if (price.length === 0) {\r\n      alert('Enter Price');\r\n    } else if (color.length === 0) {\r\n      alert('Enter equip Color');\r\n    } else if (date.length === 0) {\r\n      alert('Enter Date');\r\n    } else if (city.length === 0) {\r\n      alert('Enter city');\r\n    } else if (equipImage.length === 0) {\r\n      alert('Enter state');\r\n    } else {\r\n      const data = new FormData();\r\n      data.append('companyId', companyId);\r\n      data.append('userId', userId);\r\n      data.append('modelId', modelId);\r\n      data.append('fuelType', fuelType);\r\n      data.append('price', price);\r\n      data.append('color', color);\r\n      data.append('date', date);\r\n      data.append('city', city);\r\n      data.append('kmDriven', kmDriven);\r\n      data.append('equipImage', equipImage);\r\n      console.log(value.data);\r\n\r\n      axios.post(url + '/postcar', data).then((response) => {\r\n        const result = response.data;\r\n        if (result.status === 'success') {\r\n          alert('equip Added Sucesssfully');\r\n          history.push('/CustHome');\r\n        } else {\r\n          alert('Error While Adding Data');\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavBar1 />\r\n      <div className=\" bg-colo3\">\r\n        <h1>Sellequip Page</h1>\r\n        <div>\r\n          <div className=\"col-md-3 \">\r\n            <label>Select Companies</label>\r\n            <select onChange={loadModels} className=\"form-control\">\r\n              {companies.map((company, index) => (\r\n                <option key={index} value={company.id}>{company.name}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"col-md-3 \">\r\n            <label>Select Models</label>\r\n            <select\r\n              onChange={(event) => {\r\n                setModelId(event.target.value);\r\n              }}\r\n              className=\"form-control\">\r\n              {models.map((model, index) => (\r\n                <option key={index} value={model.modelId}>{model.modelname}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          {/* <div className=\"col-md-3 \">\r\n            <label>Fuel Type</label>\r\n            <select\r\n              onChange={(event) => {\r\n                setFuelType(event.target.value);\r\n              }}\r\n              className=\"form-control\">\r\n              <option value='Petrol'>Petrol</option>\r\n              <option value='Diesel'>Diesel</option>\r\n              <option value='CNG'>CNG</option>\r\n              <option value='Electric'>Electric</option>\r\n            </select>\r\n          </div> */}\r\n\r\n          <div className=\"col-md-3\">\r\n            <label>Price</label>\r\n            <input\r\n              onChange={(event) => {\r\n                setPrice(event.target.value);\r\n              }}\r\n              placeholder=\"Enter Price\"\r\n              className=\"form-control input-maargin\"\r\n              type=\"number\"\r\n            />\r\n          </div>\r\n          {/* <div className=\"col-md-3 \">\r\n            <label>KMs Driven</label>\r\n            <input\r\n              onChange={(event) => {\r\n                setKmDriven(event.target.value);\r\n              }}\r\n              placeholder=\"enter KMs driven\"\r\n              className=\"form-control input-maargin\"\r\n              type=\"number\"\r\n            />\r\n          </div> */}\r\n          <div className=\"col-md-3 \">\r\n            <label>Color</label>\r\n            <input\r\n              onChange={(event) => {\r\n                setColor(event.target.value);\r\n              }}\r\n              placeholder=\"enter vehicle color\"\r\n              className=\"form-control input-maargin\"\r\n              type=\"text\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-3 \">\r\n            <label>City</label>\r\n            <input\r\n              onChange={(event) => {\r\n                setCity(event.target.value);\r\n              }}\r\n              placeholder=\"Enter City\"\r\n              className=\"form-control input-maargin\"\r\n              type=\"text\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-3 \">\r\n            <label>Date</label>\r\n            <input\r\n              onChange={(event) => {\r\n                setDate(event.target.value);\r\n              }}\r\n              className=\"form-control input-maargin\"\r\n              type=\"Date\"\r\n            />\r\n          </div>\r\n          {/* <div className=\"col-md-3 \">\r\n            <label>equip Image</label>\r\n            <input\r\n              onChange={(event) => {\r\n                setEquipImage(event.target.files[0]);\r\n              }}\r\n              className=\"form-control input-maargin\"\r\n              type=\"file\"\r\n            />\r\n          </div> */}\r\n\r\n          <div className=\"col-md-3 \">\r\n            {/* <div className=\"btn btn-warning input-maargin\">\r\n              <Link to='/kyc'>Upload Kyc </Link>\r\n            </div> */}\r\n            <button onClick={sellequip} className=\"btn btn-success input-maargin\">\r\n              Submit equip\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Sellequip;\r\n"]},"metadata":{},"sourceType":"module"}