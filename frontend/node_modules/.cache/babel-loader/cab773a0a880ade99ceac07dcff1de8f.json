{"ast":null,"code":"var _jsxFileName = \"D:\\\\E-Farming\\\\frontend\\\\frontend\\\\src\\\\components\\\\pages\\\\SellEquip\\\\SellEquip.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport NavBar1 from '../NavBar/Navabar1/NavBar1';\nimport UserContext from '../../Session/Session';\nimport { url } from '../../URL/url';\n\nconst SellEquip = () => {\n  const {\n    value\n  } = useContext(UserContext);\n  const [companyId, setCompanyId] = useState('');\n  const [userId, setUserId] = useState('');\n  const [modelId, setModelId] = useState('');\n  const [price, setPrice] = useState('');\n  const [date, setDate] = useState('');\n  const [city, setCity] = useState('');\n  const [companies, setCompanies] = useState([]);\n  const [models, setModels] = useState([]);\n  useEffect(() => {\n    let isMounted = true;\n\n    const loadCompanies = async () => {\n      const result = await axios.get(url + '/getcompanies');\n\n      if (isMounted) {\n        setCompanies(result.data.data);\n        setUserId(value.data.userId);\n      }\n    };\n\n    loadCompanies();\n    return () => {\n      isMounted = false;\n    };\n  }, [value.data.userId]);\n\n  const loadModels = async e => {\n    const cid = e.target.value;\n    setCompanyId(cid);\n    const result = await axios.get(url + '/getmodels');\n    setModels(result.data.data);\n  };\n\n  const history = useHistory();\n\n  const onSubmit = () => {\n    if (price.length === 0) {\n      alert('Enter Price');\n    } else if (date.length === 0) {\n      alert('Enter Date');\n    } else if (city.length === 0) {\n      alert('Enter City');\n    } else {\n      const data = new FormData();\n      data.append('companyId', companyId);\n      data.append('userId', userId);\n      data.append('modelId', modelId);\n      data.append('price', price);\n      data.append('date', date);\n      data.append('city', city);\n      axios.post(url + '/postequip', data).then(response => {\n        const result = response.data;\n\n        if (result.status === 'success') {\n          alert('Equip Added Successfully');\n          history.push('/CustHome');\n        } else {\n          alert('Error While Adding Data');\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(NavBar1, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-colo3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, \"Sell Equipment Page\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, \"Select Companies\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: loadModels,\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, companies.map((company, index) => /*#__PURE__*/React.createElement(\"option\", {\n    key: index,\n    value: company.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, company.name)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, \"Select Models\"), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: event => {\n      setModelId(event.target.value);\n    },\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, models.map((model, index) => /*#__PURE__*/React.createElement(\"option\", {\n    key: index,\n    value: model.modelId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, model.modelname)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      setPrice(event.target.value);\n    },\n    placeholder: \"Enter Price\",\n    className: \"form-control input-maargin\",\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, \"City\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      setCity(event.target.value);\n    },\n    placeholder: \"Enter City\",\n    className: \"form-control input-maargin\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: event => {\n      setDate(event.target.value);\n    },\n    className: \"form-control input-maargin\",\n    type: \"Date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onSubmit,\n    className: \"btn btn-success input-maargin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, \"Submit Equipment\")))));\n};\n\nexport default SellEquip; // import React from 'react'\n// import { Link, useHistory } from 'react-router-dom';\n// import { useState, useEffect,useContext } from 'react'\n// import axios from 'axios';\n// import './SellEquip.css'\n// import NavBar1 from '../NavBar/Navabar1/NavBar1';\n// import CustHome from '../CustomerHome/CustHome';\n// import GetMyEquips from './GetMyEquips';\n// import UserContext from '../../Session/Session';\n// import { url } from '../../URL/url';\n// const SellEquip = () => {\n//   const {value,setValue}=useContext(UserContext)\n//   //const url = 'http://localhost:8080'\n//   const [companyId, setCompanyId] = useState('')\n//   const [userId, setUserId] = useState('')\n//   const [modelId, setModelId] = useState('')\n//   const [price, setPrice] = useState('')\n//   // const [color, setColor] = useState('')\n//   const [date, setDate] = useState('')\n//   const [city, setCity] = useState('')\n//   // const [carImage, setCarImage] = useState('')\n//   const [companies, setCompanies] = useState([]);\n//   const [models, setModels] = useState([]);\n//   useEffect(() => {\n//     loadCompanies();\n//   }, []);\n//   //get api on load\n//   const loadCompanies = async () => {\n//     const result = await axios.get(url+'/getcompanies');\n//     setCompanies(result.data.data);\n//     setUserId(value.data.userId)\n//     console.log(result.data.userId);\n//   };\n//    //get api on change\n//   const loadModels = async (e) => {\n//     const cid=e.target.value\n//     setCompanyId(cid)\n//     const result = await axios.get(url+'/getmodels');\n//     setModels(result.data.data);\n//     console.log(result.data);\n//   };\n//   const history = useHistory();\n//   const SellEquip = () => {\n//     if (price.length === 0) {\n//       alert('Enter Price')\n//     }\n//     else if (date.length === 0) {\n//       alert('Enter Date')\n//     }\n//     else if (city.length === 0) {\n//       alert('Enter city')\n//     }\n//     // else if (carImage.length === 0) {\n//     //   alert('Enter state')\n//     // }\n//     else {\n//       const data = new FormData()\n//       data.append('companyId', companyId)\n//       data.append('userId',userId)\n//       data.append('modelId', modelId)\n//       data.append('price', price);\n//       data.append('date', date);\n//       data.append('city', city);\n//       console.log(value.data)\n//       // http://localhost:8080/postcar\n//       axios.post(url + '/postequip', data).then((response) => {\n//         const result = response.data\n//         if (result.status === 'success') {\n//           alert('Equip Added Sucesssfully')\n//           history.push('/CustHome')\n//         }\n//         else {\n//           alert('Error While Adding Data')\n//         }\n//       })\n//     }\n//   }\n//   return (\n//     <>\n//       <NavBar1 />\n//       {/* <GetMyCars /> */}\n//       <div className=\" bg-colo3\">\n//       <h1>Sell Equipment Page</h1>\n//          <div>\n//           <div className= \"col-md-3 \">\n//             <label>Select Companies</label>\n//               <select \n//                 onChange={loadModels}    \n//                 className=\"form-control\">\n//                 {companies.map((company, index ) => (\n//                   <option value={company.id}>{company.name}</option>\n//                 ))}\n//               </select>\n//           </div>\n//           <div className=\"col-md-3 \">\n//             <label >Select Models</label>\n//               <select \n//                 onChange={(event) => {\n//                   setModelId(event.target.value)\n//                 }}\n//                 className=\"form-control\"  >\n//                 {models.map((model, index) => (\n//                   <option value={model.modelId}>{model.modelname}</option>\n//                 ))}\n//               </select>\n//           </div>\n//           <div className=\"col-md-3\">\n//             <label>Price</label>\n//             <input\n//               onChange={(event) => {\n//                 // updating the state with user entered value\n//                 setPrice(event.target.value)\n//               }}\n//               placeholder=\"Enter Price\"\n//               className=\"form-control input-maargin\"\n//               type=\"number\"\n//             />\n//           </div>\n//           {/* <div className=\"col-md-3 \">\n//             <label>Color</label>\n//             <input\n//               onChange={(event) => {\n//                 // updating the state with user entered value\n//                 setColor(event.target.value)\n//               }}\n//               placeholder=\"enter vehicle color\"\n//               className=\"form-control input-maargin\"\n//               type=\"text\"\n//             />\n//           </div> */}\n//           <div className=\"col-md-3 \">\n//             <label>City</label>\n//             <input\n//               onChange={(event) => {\n//                 // updating the state with user entered value\n//                 setCity(event.target.value)\n//               }}\n//               placeholder=\"Enter City\"\n//               className=\"form-control input-maargin\"\n//               type=\"text\"\n//             />\n//           </div>\n//           <div className=\"col-md-3 \">\n//             <label>Date</label>\n//             <input\n//               onChange={(event) => {\n//                 setDate(event.target.value)\n//               }}\n//               className=\"form-control input-maargin\"\n//               type=\"Date\"\n//             />\n//           </div>\n//           {/* <div className=\"col-md-3 \">\n//             <label>Equip Image</label>\n//             <input\n//               onChange={(event) => {\n//                 setCarImage(event.target.files[0])\n//               }}\n//               className=\"form-control input-maargin\"\n//               type=\"file\"\n//             />\n//           </div> */}\n//           <div className=\"col-md-3 \">\n//             {/* <div  className=\"btn btn-warning input-maargin\">\n//               <Link to='/kyc' >Upload Kyc </Link>\n//             </div> */}\n//             <button onClick={SellEquip} className=\"btn btn-success input-maargin\">\n//               Submit Equipment\n//             </button>\n//           </div>\n//         </div>\n//       </div>\n//     </>\n//   )\n// }\n// export default SellEquip","map":{"version":3,"sources":["D:/E-Farming/frontend/frontend/src/components/pages/SellEquip/SellEquip.js"],"names":["React","useState","useEffect","useContext","useHistory","axios","NavBar1","UserContext","url","SellEquip","value","companyId","setCompanyId","userId","setUserId","modelId","setModelId","price","setPrice","date","setDate","city","setCity","companies","setCompanies","models","setModels","isMounted","loadCompanies","result","get","data","loadModels","e","cid","target","history","onSubmit","length","alert","FormData","append","post","then","response","status","push","map","company","index","id","name","event","model","modelname"],"mappings":"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CAFF,CADF;AAwED,CA1ID;;AA4IA,eAAe5B,SAAf,C,CAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA","sourcesContent":["\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport NavBar1 from '../NavBar/Navabar1/NavBar1';\r\nimport UserContext from '../../Session/Session';\r\nimport { url } from '../../URL/url';\r\n\r\nconst SellEquip = () => {\r\n  const { value } = useContext(UserContext);\r\n  const [companyId, setCompanyId] = useState('');\r\n  const [userId, setUserId] = useState('');\r\n  const [modelId, setModelId] = useState('');\r\n  const [price, setPrice] = useState('');\r\n  const [date, setDate] = useState('');\r\n  const [city, setCity] = useState('');\r\n  const [companies, setCompanies] = useState([]);\r\n  const [models, setModels] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    const loadCompanies = async () => {\r\n      const result = await axios.get(url + '/getcompanies');\r\n      if (isMounted) {\r\n        setCompanies(result.data.data);\r\n        setUserId(value.data.userId);\r\n      }\r\n    };\r\n\r\n    loadCompanies();\r\n\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, [value.data.userId]);\r\n\r\n  const loadModels = async (e) => {\r\n    const cid = e.target.value;\r\n    setCompanyId(cid);\r\n    const result = await axios.get(url + '/getmodels');\r\n    setModels(result.data.data);\r\n  };\r\n\r\n  const history = useHistory();\r\n\r\n  const onSubmit = () => {\r\n    if (price.length === 0) {\r\n      alert('Enter Price');\r\n    } else if (date.length === 0) {\r\n      alert('Enter Date');\r\n    } else if (city.length === 0) {\r\n      alert('Enter City');\r\n    } else {\r\n      const data = new FormData();\r\n      data.append('companyId', companyId);\r\n      data.append('userId', userId);\r\n      data.append('modelId', modelId);\r\n      data.append('price', price);\r\n      data.append('date', date);\r\n      data.append('city', city);\r\n\r\n      axios.post(url + '/postequip', data).then((response) => {\r\n        const result = response.data;\r\n        if (result.status === 'success') {\r\n          alert('Equip Added Successfully');\r\n          history.push('/CustHome');\r\n        } else {\r\n          alert('Error While Adding Data');\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavBar1 />\r\n      <div className=\"bg-colo3\">\r\n        <h1>Sell Equipment Page</h1>\r\n        <div>\r\n          <div className=\"col-md-3\">\r\n            <label>Select Companies</label>\r\n            <select onChange={loadModels} className=\"form-control\">\r\n              {companies.map((company, index) => (\r\n                <option key={index} value={company.id}>\r\n                  {company.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"col-md-3\">\r\n            <label>Select Models</label>\r\n            <select\r\n              onChange={(event) => {\r\n                setModelId(event.target.value);\r\n              }}\r\n              className=\"form-control\"\r\n            >\r\n              {models.map((model, index) => (\r\n                <option key={index} value={model.modelId}>\r\n                  {model.modelname}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"col-md-3\">\r\n            <label>Price</label>\r\n            <input\r\n              onChange={(event) => {\r\n                setPrice(event.target.value);\r\n              }}\r\n              placeholder=\"Enter Price\"\r\n              className=\"form-control input-maargin\"\r\n              type=\"number\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-3\">\r\n            <label>City</label>\r\n            <input\r\n              onChange={(event) => {\r\n                setCity(event.target.value);\r\n              }}\r\n              placeholder=\"Enter City\"\r\n              className=\"form-control input-maargin\"\r\n              type=\"text\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-3\">\r\n            <label>Date</label>\r\n            <input\r\n              onChange={(event) => {\r\n                setDate(event.target.value);\r\n              }}\r\n              className=\"form-control input-maargin\"\r\n              type=\"Date\"\r\n            />\r\n          </div>\r\n          <div className=\"col-md-3\">\r\n            <button onClick={onSubmit} className=\"btn btn-success input-maargin\">\r\n              Submit Equipment\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SellEquip;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import React from 'react'\r\n// import { Link, useHistory } from 'react-router-dom';\r\n// import { useState, useEffect,useContext } from 'react'\r\n// import axios from 'axios';\r\n// import './SellEquip.css'\r\n// import NavBar1 from '../NavBar/Navabar1/NavBar1';\r\n// import CustHome from '../CustomerHome/CustHome';\r\n// import GetMyEquips from './GetMyEquips';\r\n// import UserContext from '../../Session/Session';\r\n// import { url } from '../../URL/url';\r\n\r\n// const SellEquip = () => {\r\n\r\n//   const {value,setValue}=useContext(UserContext)\r\n//   //const url = 'http://localhost:8080'\r\n//   const [companyId, setCompanyId] = useState('')\r\n//   const [userId, setUserId] = useState('')\r\n//   const [modelId, setModelId] = useState('')\r\n//   const [price, setPrice] = useState('')\r\n//   // const [color, setColor] = useState('')\r\n//   const [date, setDate] = useState('')\r\n//   const [city, setCity] = useState('')\r\n//   // const [carImage, setCarImage] = useState('')\r\n\r\n//   const [companies, setCompanies] = useState([]);\r\n//   const [models, setModels] = useState([]);\r\n\r\n//   useEffect(() => {\r\n//     loadCompanies();\r\n//   }, []);\r\n\r\n//   //get api on load\r\n//   const loadCompanies = async () => {\r\n//     const result = await axios.get(url+'/getcompanies');\r\n//     setCompanies(result.data.data);\r\n//     setUserId(value.data.userId)\r\n//     console.log(result.data.userId);\r\n//   };\r\n\r\n//    //get api on change\r\n//   const loadModels = async (e) => {\r\n//     const cid=e.target.value\r\n//     setCompanyId(cid)\r\n//     const result = await axios.get(url+'/getmodels');\r\n//     setModels(result.data.data);\r\n//     console.log(result.data);\r\n//   };\r\n\r\n//   const history = useHistory();\r\n\r\n//   const SellEquip = () => {\r\n//     if (price.length === 0) {\r\n//       alert('Enter Price')\r\n//     }\r\n//     else if (date.length === 0) {\r\n//       alert('Enter Date')\r\n//     }\r\n//     else if (city.length === 0) {\r\n//       alert('Enter city')\r\n//     }\r\n//     // else if (carImage.length === 0) {\r\n//     //   alert('Enter state')\r\n//     // }\r\n//     else {\r\n//       const data = new FormData()\r\n//       data.append('companyId', companyId)\r\n//       data.append('userId',userId)\r\n//       data.append('modelId', modelId)\r\n//       data.append('price', price);\r\n//       data.append('date', date);\r\n//       data.append('city', city);\r\n//       console.log(value.data)\r\n\r\n//       // http://localhost:8080/postcar\r\n\r\n//       axios.post(url + '/postequip', data).then((response) => {\r\n//         const result = response.data\r\n//         if (result.status === 'success') {\r\n//           alert('Equip Added Sucesssfully')\r\n//           history.push('/CustHome')\r\n//         }\r\n//         else {\r\n//           alert('Error While Adding Data')\r\n//         }\r\n//       })\r\n//     }\r\n//   }\r\n\r\n\r\n\r\n\r\n\r\n\r\n//   return (\r\n//     <>\r\n//       <NavBar1 />\r\n//       {/* <GetMyCars /> */}\r\n//       <div className=\" bg-colo3\">\r\n//       <h1>Sell Equipment Page</h1>\r\n//          <div>\r\n//           <div className= \"col-md-3 \">\r\n//             <label>Select Companies</label>\r\n//               <select \r\n//                 onChange={loadModels}    \r\n//                 className=\"form-control\">\r\n//                 {companies.map((company, index ) => (\r\n//                   <option value={company.id}>{company.name}</option>\r\n//                 ))}\r\n//               </select>\r\n//           </div>\r\n\r\n          \r\n\r\n//           <div className=\"col-md-3 \">\r\n//             <label >Select Models</label>\r\n//               <select \r\n//                 onChange={(event) => {\r\n//                   setModelId(event.target.value)\r\n//                 }}\r\n//                 className=\"form-control\"  >\r\n//                 {models.map((model, index) => (\r\n//                   <option value={model.modelId}>{model.modelname}</option>\r\n//                 ))}\r\n//               </select>\r\n//           </div>\r\n\r\n            \r\n      \r\n         \r\n\r\n//           <div className=\"col-md-3\">\r\n//             <label>Price</label>\r\n//             <input\r\n//               onChange={(event) => {\r\n//                 // updating the state with user entered value\r\n//                 setPrice(event.target.value)\r\n//               }}\r\n//               placeholder=\"Enter Price\"\r\n//               className=\"form-control input-maargin\"\r\n//               type=\"number\"\r\n//             />\r\n\r\n//           </div>\r\n          \r\n//           {/* <div className=\"col-md-3 \">\r\n//             <label>Color</label>\r\n//             <input\r\n//               onChange={(event) => {\r\n//                 // updating the state with user entered value\r\n//                 setColor(event.target.value)\r\n//               }}\r\n//               placeholder=\"enter vehicle color\"\r\n//               className=\"form-control input-maargin\"\r\n//               type=\"text\"\r\n//             />\r\n//           </div> */}\r\n//           <div className=\"col-md-3 \">\r\n//             <label>City</label>\r\n//             <input\r\n//               onChange={(event) => {\r\n//                 // updating the state with user entered value\r\n//                 setCity(event.target.value)\r\n//               }}\r\n//               placeholder=\"Enter City\"\r\n//               className=\"form-control input-maargin\"\r\n//               type=\"text\"\r\n//             />\r\n//           </div>\r\n//           <div className=\"col-md-3 \">\r\n//             <label>Date</label>\r\n//             <input\r\n//               onChange={(event) => {\r\n//                 setDate(event.target.value)\r\n//               }}\r\n\r\n//               className=\"form-control input-maargin\"\r\n//               type=\"Date\"\r\n//             />\r\n//           </div>\r\n\r\n//           {/* <div className=\"col-md-3 \">\r\n//             <label>Equip Image</label>\r\n//             <input\r\n//               onChange={(event) => {\r\n//                 setCarImage(event.target.files[0])\r\n//               }}\r\n//               className=\"form-control input-maargin\"\r\n//               type=\"file\"\r\n//             />\r\n//           </div> */}\r\n         \r\n            \r\n          \r\n//           <div className=\"col-md-3 \">\r\n//             {/* <div  className=\"btn btn-warning input-maargin\">\r\n//               <Link to='/kyc' >Upload Kyc </Link>\r\n//             </div> */}\r\n//             <button onClick={SellEquip} className=\"btn btn-success input-maargin\">\r\n//               Submit Equipment\r\n//             </button>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     </>\r\n\r\n//   )\r\n// }\r\n\r\n// export default SellEquip\r\n"]},"metadata":{},"sourceType":"module"}