{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ravin\\\\OneDrive\\\\Desktop\\\\E-Farming\\\\frontend\\\\src\\\\components\\\\pages\\\\SignIn\\\\SignIn.js\";\nimport './SignIn.css';\nimport axios from 'axios';\nimport React, { useContext, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport UserContext from '../../Session/Session';\nimport Navbar from './../NavBar/Navbar';\nimport GetUsers from './../AdminHome/GetUsers';\nimport { url } from './../../URL/url';\n\nconst SignIn = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const {\n    value,\n    setValue\n  } = useContext(UserContext);\n  const history = useHistory();\n\n  const signinUser = () => {\n    if (!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)) {\n      alert(\"Enter valid email pattern like 'abc@gmail.com'\");\n      return;\n    }\n\n    if (email.length === 0) {\n      alert('please enter email');\n    } else if (password.length === 0) {\n      alert('please enter password');\n    } else {\n      const data = new FormData();\n      data.append('email', email);\n      data.append('password', password); //const url = 'http://50.17.69.126:8080'\n      // http://localhost:8080/signin\n\n      axios.post(url + '/login', data).then(response => {\n        const result = response.data;\n\n        if (result.status === 'success') {\n          setValue(result);\n          alert('Login Succesfull');\n\n          if (result.data.role === 'admin') {\n            history.push('/AdminHome');\n          } else {\n            history.push('/CustHome');\n          }\n        } else {\n          alert('Login Filed, Email or password incorrect');\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"loginform\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    id: \"headerTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 19\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter your username\",\n    onChange: event => {\n      setEmail(event.target.value);\n    },\n    placeholder: \"enter your email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 19\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Enter your password\",\n    onChange: event => {\n      setPassword(event.target.value);\n    },\n    placeholder: \"enter your password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"button\",\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: signinUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(Link, {\n    className: \"row\",\n    to: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, \"don't have an account\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"row\",\n    to: \"/ChangePassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, \"forgot password ?\")));\n};\n\nexport default SignIn;","map":{"version":3,"sources":["C:/Users/ravin/OneDrive/Desktop/E-Farming/frontend/src/components/pages/SignIn/SignIn.js"],"names":["axios","React","useContext","useState","Link","useHistory","UserContext","Navbar","GetUsers","url","SignIn","email","setEmail","password","setPassword","value","setValue","history","signinUser","test","alert","length","data","FormData","append","post","then","response","result","status","role","push","event","target"],"mappings":"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","sourcesContent":["\r\n\r\nimport './SignIn.css';\r\nimport axios from 'axios';\r\nimport React, { useContext, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport UserContext from '../../Session/Session';\r\nimport Navbar from './../NavBar/Navbar';\r\nimport GetUsers from './../AdminHome/GetUsers';\r\nimport { url } from './../../URL/url';\r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\n\r\nconst SignIn=()=>{\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const { value, setValue } = useContext(UserContext)\r\n  const history = useHistory(); \r\n  \r\n\r\n  const signinUser = () => {\r\n    if (!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)) {\r\n      alert(\"Enter valid email pattern like 'abc@gmail.com'\")\r\n      return\r\n    }\r\n    if (email.length === 0) {\r\n      alert('please enter email')\r\n    } else if (password.length === 0) {\r\n      alert('please enter password')\r\n    } else {\r\n      \r\n      const data = new FormData()\r\n\r\n\r\n      data.append('email', email);\r\n      data.append('password', password);\r\n\r\n      \r\n      \r\n      //const url = 'http://50.17.69.126:8080'\r\n\r\n\r\n      // http://localhost:8080/signin\r\n\r\n      axios.post(url + '/login', data).then((response) => {\r\n\r\n        const result = response.data\r\n\r\n        \r\n        if (result.status === 'success') {\r\n          setValue(result)\r\n\r\n          alert('Login Succesfull')\r\n          if (result.data.role === 'admin') {\r\n            history.push('/AdminHome')\r\n          }\r\n          else {\r\n            history.push('/CustHome')\r\n          }\r\n        }\r\n        else {\r\n          alert('Login Filed, Email or password incorrect')\r\n        }\r\n      })\r\n\r\n    }\r\n  }\r\n\r\n\r\n  return(\r\n    \r\n          <div id=\"loginform\" >\r\n            \r\n            <h2 id=\"headerTitle\">Login</h2>\r\n            <div>\r\n                <div className=\"row\">\r\n                  <label>Email</label>\r\n                  <input \r\n                      type=\"text\" \r\n                      placeholder=\"Enter your username\"\r\n                      onChange={(event) => {\r\n                        setEmail(event.target.value)\r\n                      }}placeholder=\"enter your email\"/>\r\n                </div> \r\n                <div className=\"row\">\r\n                  <label>Password</label>\r\n                  <input  \r\n                      type=\"password\" \r\n                      placeholder=\"Enter your password\"\r\n                      onChange={(event) => {\r\n                        setPassword(event.target.value)\r\n                      }}\r\n                      placeholder=\"enter your password\"\r\n                      \r\n                  />\r\n                </div> \r\n                <div id=\"button\" className=\"row\">\r\n                  <button onClick={signinUser}>Login</button>\r\n                </div>\r\n                <Link className=\"row\" to=\"/signup\">don't have an account</Link>\r\n                <Link className=\"row\" to=\"/ChangePassword\">forgot password ?</Link>\r\n            </div>\r\n          \r\n          </div>\r\n  )\r\n\r\n}\r\nexport default SignIn\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}